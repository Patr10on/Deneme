<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Giriş - PATRON</title>
<style>
  body {
    background: #000;
    color: #c0f7ff;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .login-wrapper {
    background: #000000cc;
    padding: 2em;
    border-radius: 12px;
    box-shadow: 0 0 20px #00eaffaa;
    width: 320px;
  }
  h2 {
    margin-bottom: 1em;
    color: #00eaff;
    text-align: center;
  }
  form {
    display: flex;
    flex-direction: column;
  }
  input {
    background: #122638;
    border: none;
    border-radius: 8px;
    color: #d4f1ff;
    padding: 12px;
    margin-bottom: 1em;
    font-size: 16px;
    outline: none;
  }
  input:focus {
    box-shadow: 0 0 10px #00eaffcc;
  }
  button {
    background: #0a1a2a;
    color: #00eaff;
    font-weight: bold;
    padding: 12px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0 0 15px #00eaff99;
  }
  button:hover {
    background: #00eaff11;
    color: #002f4b;
    box-shadow: 0 0 30px #00eaffcc;
  }
  .error {
    color: #ff5555;
    font-weight: 600;
    text-align: center;
    display: none;
    margin-top: 0.5em;
  }
</style>
</head>
<body>
  <div class="login-wrapper">
    <h2>Giriş Paneli</h2>
    <form action="/login" method="POST" autocomplete="off" id="loginForm">
      <input type="text" name="username" placeholder="Kullanıcı Adı" required />
      <input type="password" name="password" placeholder="Şifre" required />
      <button type="submit">Giriş Yap</button>
      <p class="error" id="errorMsg">Geçersiz kullanıcı adı veya şifre.</p>
    </form>
  </div>
  <script>
    // Basit client-side hata mesajı gösterme (backend yanıtına göre ayarlanabilir)
    const form = document.getElementById('loginForm');
    const errorMsg = document.getElementById('errorMsg');
    
    form.addEventListener('submit', (e) => {
      // Burada istersen Ajax ile gönderip hata yakalayabilirsin,
      // ama Flask backend ile klasik form POST kullanıyorsan
      // bu script'i kaldırabilirsin veya backend yönlendirmelerini kullan.
      errorMsg.style.display = 'none';
    });
  </script>
</body>
</html>
    
  </form>
</div>

<script>
  const form = document.getElementById("loginForm");
  const errorMsg = document.getElementById("errorMsg");

  const users = [
    { user: "admin", pass: "patronsorgu" },
    { user: "kaneki", pass: "ghoul123" }
  ];

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    errorMsg.style.display = "none";

    const username = form.username.value.trim().toLowerCase();
    const password = form.password.value.trim();

    const match = users.find(u => u.user === username && u.pass === password);

    if (match) {
      // Giriş başarılı - gerçek projede burada sunucuya istek yapılmalı
      window.location.href = "/anasayfa"; 
    } else {
      errorMsg.style.display = "block";
      errorMsg.style.animation = "none";
      errorMsg.offsetHeight; // restart animation
      errorMsg.style.animation = null;
      form.password.focus();
    }
  });
</script>

</body>
</html>    
        </form>
    </div>

    <script>
        const form = document.getElementById('loginForm');
        const errorMsg = document.querySelector('.error');
        
        if (errorMsg) {
            // Hata mesajını 5 saniye sonra gizle
            setTimeout(() => {
                errorMsg.classList.add('hidden');
            }, 5000);
        }
    </script>
</body>
</html>
</body>
</html>
</html>
